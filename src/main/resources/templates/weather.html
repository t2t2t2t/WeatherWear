<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ü–æ–≥–æ–¥–Ω—ã–π –ø–æ–º–æ—â–Ω–∏–∫</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" th:href="@{/css/style.css}">
    <script th:src="@{/js/main.js}"></script>
</head>
<body class="light-theme">
<!-- –ü–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å —Ç–µ–º—ã -->
<div class="theme-switch-wrapper">
    <label class="theme-switch" for="checkbox">
        <input type="checkbox" id="checkbox">
        <div class="slider round"></div>
    </label>
    <span class="theme-label">‚òÄ</span>
</div>

<div class="container">
    <h1>üå§ –ü–æ–≥–æ–¥–Ω—ã–π –ø–æ–º–æ—â–Ω–∏–∫</h1>

    <form method="post" action="/weather">
        <input type="text" name="city" placeholder="–í–≤–µ–¥–∏—Ç–µ –≥–æ—Ä–æ–¥..." required
               th:value="${city != null} ? ${city} : ''">
        <button type="submit">
            <i class="fas fa-search"></i> –£–∑–Ω–∞—Ç—å –ø–æ–≥–æ–¥—É
        </button>
    </form>

    <button type="button" id="getLocationBtn">
        <i class="fas fa-location-arrow"></i> –ú–æ–µ –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ
    </button>

    <!-- –ë–ª–æ–∫ —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º -->
    <div th:if="${weather != null}" class="weather-result">
        <h2>–ü–æ–≥–æ–¥–∞ –≤ <span th:text="${weather.city}">–ì–æ—Ä–æ–¥–µ</span></h2>

        <div class="weather-advice-layout">
            <!-- –õ–µ–≤—ã–π –±–ª–æ–∫: –ø–æ–≥–æ–¥–∞ -->
            <div class="weather-details">
                <div class="weather-item">
                    <span><i class="fas fa-thermometer-half weather-icon"></i> –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞</span>
                    <span th:text="${weather.temperature} + ' ¬∞C'">0¬∞C</span>
                </div>
                <div class="weather-item">
                    <span><i class="fas fa-temperature-low weather-icon"></i> –û—â—É—â–∞–µ—Ç—Å—è</span>
                    <span th:text="${weather.feelsLike} + ' ¬∞C'">0¬∞C</span>
                </div>
                <div class="weather-item">
                    <span><i class="fas fa-tint weather-icon"></i> –í–ª–∞–∂–Ω–æ—Å—Ç—å</span>
                    <span th:text="${weather.humidity} + '%'">0%</span>
                </div>
                <div class="weather-item">
                    <span><i class="fas fa-meteor"></i> –ü–æ–≥–æ–¥–∞</span>
                    <span th:text="${weather.weatherDescription}">–û–ø–∏—Å–∞–Ω–∏–µ</span>
                </div>
                <div class="weather-item">
                    <span><i class="fas fa-cloud weather-icon"></i> –î–∞–≤–ª–µ–Ω–∏–µ</span>
                    <span th:text="${weather.pressure} + ' –ü–∞'">0 –ü–∞</span>
                </div>
                <div class="weather-item">
                    <span><i class="fas fa-wind weather-icon"></i> –í–µ—Ç–µ—Ä</span>
                    <span th:text="${weather.windSpeed} + ' –º/—Å'">0 –º/—Å</span>
                </div>
                <div class="weather-item uv-item">
                    <span><i class="fas fa-sun weather-icon"></i> UV –∏–Ω–¥–µ–∫—Å</span>
                    <span class="uv-value" th:text="${weather.uv}">0</span>
                </div>
            </div>

            <!-- –ü—Ä–∞–≤—ã–π –±–ª–æ–∫: —Å–æ–≤–µ—Ç—ã -->
            <div th:if="${!#lists.isEmpty(adviceList)}" class="advice-block">
                <h3>üéØ –ß—Ç–æ –≤–∑—è—Ç—å —Å —Å–æ–±–æ–π?</h3>
                <div th:each="item : ${adviceList}" th:utext="${item}" class="advice-item"></div>
            </div>
        </div>
    </div>

    <!-- –û—à–∏–±–∫–∞ -->
    <div th:if="${error}" class="error-message" th:text="${error}">–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏</div>
</div>
</body>
</html>